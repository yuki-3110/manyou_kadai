<p><%= notice %></p>

<h1>タスク一覧</h1>

  <table>
    <tr>
      <th>タスク名</th>
      <th>タスク詳細</th>
      <th>終了期限</th>
      <th>ステータス</th>
      <th>優先度</th>
    </tr>
  <% @tasks.each do |task| %>
    <tr class= "task_row">
      <td><%= task.title %></td>
      <td><%= task.content %></td>
      <td><%= task.deadline.strftime("%Y-%m-%d") %></td>
      <td><%= task.status %></td>
      <td><%= task.priority %></td>
      <td><%= link_to "詳細", task_path(task.id) %></td>
      <td><%= link_to "編集", edit_task_path(task.id) %></td>
      <td><%= link_to "削除", task_path(task.id), method: :delete, data:{confirm: "本当に削除していいですか？"} %></td>
    </tr>
  <% end %>
  </table>

<%= link_to "タスクを追加する", new_task_path %>
<br>

<%  if @tasks.present?  %>
  <%= link_to "終了期限をソートする",tasks_path(sort_expired: "true") %>
<% else %>
  <td></td>
<% end %>

<br>

<%  if @tasks.present?  %>
  <%= link_to "優先順位の高い順に並び替える",tasks_path(sort_expired: "true") %>
<% else %>
  <td></td>
<% end %>

